---
title: Sevastopol (Frontend)
description: Documentación del Frontend de Sevastopol
sidebar:
  label: Overview
  order: 1
updated: 2025-12-28
---

import {
  FileTree,
  Steps,
  Tabs,
  TabItem,
  LinkCard,
  CardGrid,
} from "@astrojs/starlight/components";

## Propósito y Alcance

Este documento proporciona una visión general de la aplicación frontend **Sevastopol**, que sirve como interfaz de usuario para el sistema de contabilidad Nostromo. Sevastopol está construido usando **Astro** para renderizado del lado del servidor y enrutamiento, con **SolidJS** para componentes reactivos del lado del cliente. Esta página cubre la arquitectura general, el stack tecnológico y los patrones de alto nivel utilizados en todo el frontend.

---

## Tecnologías Utilizadas

Sevastopol utiliza un stack de desarrollo web moderno optimizado para rendimiento y experiencia del desarrollador:

| Tecnología  | Versión | Propósito                                     |
| ----------- | ------- | --------------------------------------------- |
| Astro       | 5.12.3  | Framework SSR, enrutamiento, shell de página  |
| SolidJS     | 1.8.5+  | Islands reactivas, lógica de componentes      |
| TailwindCSS | 3.x     | Estilos utility-first                         |
| TypeScript  | 5.8.3   | Seguridad de tipos                            |
| Vite        | 6.3.5+  | Herramienta de build, servidor dev, proxy API |

Las bibliotecas adicionales incluyen:

- `jsPDF` + ` jspdf-autotable` para generación de PDF
- `xlsx` para exportación a Excel
- `rut.js` para validación de RUT chileno
- `@playwright/test` para pruebas E2E

---

## Visión General de la Arquitectura

Sevastopol implementa una arquitectura híbrida de SSR + Islands, combinando los beneficios de rendimiento del renderizado del lado del servidor con interactividad selectiva del lado del cliente.

### Astro como Fundamento

Astro sirve el HTML inicial con cero JavaScript por defecto. El shell de la aplicación, el layout y el contenido estático se renderizan en el servidor:

<FileTree>

- src
  - components/
    - UI/Shared components
  - config/
    - Configuration files
  - icons/
    - SVG Icons
  - layouts/
    - Layout.astro
  - lib/
    - Utilities and helpers
  - middleware.ts
  - pages/
    - File-based routing
  - styles/
    - Global styles
  - types/
    - TypeScript definitions
- package.json
- astro.config.mjs
- tailwind.config.mjs

</FileTree>

## Scripts Disponibles

Comandos definidos en `package.json` para el ciclo de desarrollo.

| Comando    | Descripción                             | Ejecución          |
| :--------- | :-------------------------------------- | :----------------- |
| `dev`      | Inicia el servidor de desarrollo local  | `npm run dev`      |
| `build`    | Genera el build de producción           | `npm run build`    |
| `preview`  | Visualiza el build localmente           | `npm run preview`  |
| `lint`     | Ejecuta ESLint                          | `npm run lint`     |
| `format`   | Formatea código con Prettier            | `npm run format`   |
| `test:e2e` | Ejecuta tests end-to-end con Playwright | `npm run test:e2e` |

## Tecnologías Clave

- **Astro**: Framework principal.
- **SolidJS**: Interactividad en islas.
- **Tailwind CSS**: Estilizado.
- **Playwright**: Testing E2E.

## Islas Interactivas

La interactividad en Sevastopol se maneja a través de "Islas" de SolidJS, que se hidratan en el cliente según sea necesario.

### Core

- **ViewRouter** (`view-router.ts`): Gestiona el enrutamiento del lado del cliente dentro de la aplicación, permitiendo transiciones fluidas entre vistas sin recargas completas de página.

### Módulos de Negocio

<Tabs>
  <TabItem label="Admin">
    Gestiona la configuración global y multi-tenant. - **TenantManagement**:
    Creación y edición de tenants. - **UserRoles**: Asignación de permisos y
    usuarios.
  </TabItem>
  <TabItem label="Payroll">
    Contiene la lógica compleja de remuneraciones. - **PayrollCalculator**:
    Interfaz para ejecutar cálculos de sueldos. - **LiquidacionesPreview**:
    Visualización en tiempo real de liquidaciones. -
    **HistoricoRemuneraciones**: Tablas de navegación de datos históricos.
  </TabItem>
  <TabItem label="Operations">
    Visualización y gestión de documentos tributarios. -
    **OperationsViewIsland**: Tabla unificada de Ventas, Compras y Boletas. -
    **OperationsService**: Generación de asientos contables.
  </TabItem>
</Tabs>

## Recursos para Desarrolladores

<CardGrid>
  <LinkCard
    title="Biblioteca de Componentes UI"
    href="/sevastopol/ui-components/"
    description="Catálogo de componentes atómicos (Inputs, Tablas, Modales) listos para usar."
  />
  <LinkCard
    title="Hooks Personalizados"
    href="/sevastopol/hooks/"
    description="Colección de hooks de SolidJS para lógica reutilizable."
  />
</CardGrid>
