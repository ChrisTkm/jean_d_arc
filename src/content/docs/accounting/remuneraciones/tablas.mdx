---
title: Tablas y Entidades
description: Definici√≥n detallada de tablas del schema remuneraciones
sidebar:
  label: Tablas
  order: 2
updated: 2026-01-03
---

import { Tabs, TabItem, Aside, Steps, Card, CardGrid } from '@astrojs/starlight/components';

Descripci√≥n detallada de las tablas principales del schema `remuneraciones`.

---

## Visi√≥n General

<CardGrid>
  <Card title="üí∞ Liquidaciones" icon="document">
    Header + Detalle de sueldos mensuales
  </Card>
  <Card title="üë§ Empleados" icon="seti:favicon">
    Maestro de trabajadores y datos previsionales
  </Card>
  <Card title="üèõÔ∏è Imposiciones" icon="setting">
    Consolidado de aportes AFP, Salud, AFC
  </Card>
  <Card title="üìã Finiquitos" icon="approve-check">
    Terminaci√≥n de contratos e indemnizaciones
  </Card>
</CardGrid>

---

## 1. Liquidaciones

<Tabs>
  <TabItem label="Header">
    **Tabla:** `remuneraciones.liquidaciones`  
    **Archivo:** `tbl/012_tbl_liquidaciones.sql`

    Representa la **cabecera** de una liquidaci√≥n de sueldo. Almacena los totales consolidados y el estado del proceso.

    | Columna | Tipo | Descripci√≥n |
    | :--- | :--- | :--- |
    | `id` | UUID | Identificador √∫nico |
    | `empleado_id` | UUID | Referencia al empleado |
    | `contrato_id` | UUID | Referencia al contrato vigente |
    | `a√±o`, `mes` | Smallint | Per√≠odo de remuneraci√≥n |
    | `total_haberes` | Numeric | Suma total de haberes |
    | `total_descuentos` | Numeric | Suma total de descuentos |
    | `total_liquido` | Numeric | Monto final (`haberes - descuentos`) |
    | `estado` | Text | Estado del proceso |

    **Estados posibles:**
    - üü° `BORRADOR` ‚Äî En preparaci√≥n
    - üîµ `CALCULADA` ‚Äî Procesada, pendiente revisi√≥n
    - üü¢ `APROBADA` ‚Äî Lista para pago
    - ‚úÖ `PAGADA` ‚Äî Transferencia realizada
  </TabItem>

  <TabItem label="Detalle">
    **Tabla:** `remuneraciones.liquidaciones_detalle`  
    **Archivo:** `tbl/013_tbl_liquidaciones_detalle.sql`

    Almacena el desglose √≠tem por √≠tem. Es la **fuente de verdad** para contabilidad e impresi√≥n.

    | Columna | Tipo | Descripci√≥n |
    | :--- | :--- | :--- |
    | `liquidacion_id` | UUID | FK a la cabecera |
    | `concepto_id` | Integer | FK al cat√°logo de conceptos |
    | `monto` | Numeric | Valor calculado del √≠tem |
    | `origen` | Text | `AUTOMATICO` o `MANUAL` |

    <Aside type="note" title="Trigger Autom√°tico">
      El trigger `trg_recalcular_totales_detalle` actualiza autom√°ticamente los totales 
      en la tabla padre `liquidaciones` cuando se modifica el detalle.
    </Aside>
  </TabItem>

  <TabItem label="Conceptos">
    **Tabla:** `remuneraciones.conceptos_remuneracion`  
    **Archivo:** `tbl/001_conceptos_remuneracion_refactored.sql`

    Cat√°logo maestro que define las reglas de negocio y contables para cada √≠tem.

    **Tipos de Concepto (`tipo_concepto`):**

    | Tipo | Efecto en L√≠quido | Ejemplo |
    | :--- | :--- | :--- |
    | üü¢ **HABER** | ‚¨ÜÔ∏è Aumenta | Sueldo, Bonos |
    | üî¥ **DESCUENTO** | ‚¨áÔ∏è Disminuye | AFP, Salud |
    | üü° **APORTE_PATRONAL** | ‚Äî Sin efecto | SIS, Mutual |
    | üîµ **PROVISION** | ‚Äî Reserva | Vacaciones, Gratificaci√≥n |

    **Integraci√≥n Contable:**

    ```
    Sueldo Base:
    ‚îú‚îÄ‚îÄ Debe:  3201001 (Gasto Sueldos)
    ‚îî‚îÄ‚îÄ Haber: 2104001 (Sueldos por Pagar)
    ```
  </TabItem>
</Tabs>

---

## 2. Empleados y Contratos

<Tabs>
  <TabItem label="Empleados">
    **Tabla:** `remuneraciones.empleados`  
    **Archivo:** `tbl/002_tbl_empleados.sql`

    Maestro de trabajadores. Centraliza datos personales, previsionales y de pago.

    | Columna | Uso Principal |
    | :--- | :--- |
    | `rut` | Identificador fiscal √∫nico |
    | `nombres`, `apellidos` | Datos personales |
    | `afp_id`, `isapre_id` | Determinantes para c√°lculo de leyes sociales |
    | `banco`, `numero_cuenta` | Datos para archivo de transferencias |
    | `email` | Notificaciones y env√≠o de liquidaci√≥n |

    <Aside type="tip" title="√çndices">
      La tabla est√° indexada por `rut`, `email` y `estado_empleado` 
      para optimizar b√∫squedas administrativas.
    </Aside>
  </TabItem>

  <TabItem label="Contratos">
    **Tabla:** `remuneraciones.contratos`  
    **Archivo:** `tbl/003_tbl_contratos.sql`

    Relaci√≥n laboral entre empleado y empresa. Un empleado puede tener m√∫ltiples contratos (hist√≥rico).

    | Columna | Descripci√≥n |
    | :--- | :--- |
    | `empleado_id` | FK al empleado |
    | `cargo_id` | Cargo o posici√≥n |
    | `departamento_id` | √Årea organizacional |
    | `sueldo_base` | Remuneraci√≥n mensual pactada |
    | `fecha_inicio` | Inicio de la relaci√≥n laboral |
    | `fecha_termino` | NULL si vigente |
    | `estado` | `VIGENTE`, `TERMINADO`, `SUSPENDIDO` |
  </TabItem>

  <TabItem label="Jornadas">
    **Tabla:** `remuneraciones.jornadas`  
    **Archivo:** `tbl/005_tbl_jornadas.sql`

    Configuraci√≥n de horarios semanales. Define d√≠as laborales y turnos.

    | Columna | Descripci√≥n |
    | :--- | :--- |
    | `codigo` | Identificador corto (ej: `J45`, `J30`) |
    | `nombre` | Descripci√≥n (ej: "Jornada 45 horas") |
    | `horas_semanales` | Total de horas pactadas |
    | `dias_laborales` | Array de d√≠as (ej: `{1,2,3,4,5}`) |
  </TabItem>
</Tabs>

---

## 3. Previsi√≥n Social

<Tabs>
  <TabItem label="Imposiciones">
    **Tabla:** `remuneraciones.imposiciones`  
    **Archivo:** `tbl/019_tbl_imposiciones.sql`

    Consolidado mensual de leyes sociales agrupado por instituci√≥n. Base para **Previred** y **F29**.

    | Columna | Tipo | Descripci√≥n |
    | :--- | :--- | :--- |
    | `a√±o`, `mes` | Smallint | Per√≠odo tributario |
    | `institucion_tipo` | Text | `AFP`, `ISAPRE`, `MUTUAL`, `IPS`, `SII` |
    | `institucion_codigo` | Text | C√≥digo espec√≠fico (ej: `03` = Provida) |
    | `monto_trabajador` | Numeric | Suma de descuentos a empleados |
    | `monto_empleador` | Numeric | Suma de aportes patronales |
    | `estado` | Enum | `CALCULADA`, `DECLARADA`, `PAGADA` |

    <Aside type="caution" title="Estados">
      - `CALCULADA` ‚Üí Generada autom√°ticamente
      - `DECLARADA` ‚Üí Enviada a Previred
      - `PAGADA` ‚Üí Con n√∫mero de pago registrado
    </Aside>
  </TabItem>

  <TabItem label="APV">
    **Tabla:** `remuneraciones.contrato_apv`  
    **Archivo:** `tbl/015_tbl_contrato_apv.sql`

    Registro de Ahorro Previsional Voluntario asociado a un contrato.

    | Columna | Descripci√≥n |
    | :--- | :--- |
    | `regimen` | `A` (Bonificaci√≥n estatal) o `B` (Rebaja tributaria) |
    | `monto_tipo` | `UF`, `CLP` o `PORCENTAJE` |
    | `monto` | Valor del aporte |
    | `vigencia` | Rango de fechas (`daterange`) |
    | `institucion_id` | FK a AFP u otra administradora |
  </TabItem>

  <TabItem label="AFP / Isapre">
    **Tablas:**
    - `parametros.afp` ‚Äî Cat√°logo de AFPs
    - `parametros.isapre` ‚Äî Cat√°logo de Isapres
    - `remuneraciones.contrato_afp` ‚Äî Relaci√≥n contrato-AFP
    - `remuneraciones.contrato_isapre` ‚Äî Relaci√≥n contrato-Isapre

    | AFP | C√≥digo | Tasa Actual |
    | :--- | :--- | ---: |
    | Capital | 01 | 11.44% |
    | Cuprum | 02 | 11.44% |
    | Provida | 03 | 11.45% |
    | Habitat | 05 | 11.27% |
    | PlanVital | 06 | 11.16% |
    | Modelo | 07 | 10.58% |
    | Uno | 08 | 10.69% |
  </TabItem>
</Tabs>

---

## 4. Terminaci√≥n de Contrato

<Tabs>
  <TabItem label="Finiquitos">
    **Tabla:** `remuneraciones.finiquitos`  
    **Archivo:** `tbl/026_tbl_finiquitos.sql`

    Cabecera del proceso de t√©rmino de relaci√≥n laboral.

    | Columna | Descripci√≥n |
    | :--- | :--- |
    | `contrato_id` | FK al contrato terminado |
    | `fecha_termino` | √öltimo d√≠a trabajado |
    | `causal_codigo` | C√≥digo legal (ej: `161` - Necesidades empresa) |
    | `total_indemnizaciones` | Suma a√±os servicio + aviso previo |
    | `monto_vacaciones` | Vacaciones proporcionales pendientes |
    | `estado` | `BORRADOR`, `FIRMADO`, `PAGADO`, `ANULADO` |
  </TabItem>

  <TabItem label="Detalle Finiquito">
    **Tabla:** `remuneraciones.finiquitos_detalle`  
    **Archivo:** `tbl/027_tbl_finiquitos_detalle.sql`

    Desglose de conceptos pagados en el finiquito.

    | Columna | Descripci√≥n |
    | :--- | :--- |
    | `finiquito_id` | FK a la cabecera |
    | `concepto_id` | FK al cat√°logo de conceptos |
    | `monto` | Valor calculado |
  </TabItem>

  <TabItem label="Causales">
    **Tabla:** `parametros.causales_termino`  
    **Archivo:** `025_laboral_causales_termino.sql`

    | C√≥digo | Art√≠culo | Paga Indemnizaci√≥n | Paga Aviso |
    | :--- | :--- | :---: | :---: |
    | `159-1` | Mutuo acuerdo | ‚ùå | ‚ùå |
    | `159-2` | Renuncia | ‚ùå | ‚ùå |
    | `160-1` | Conductas graves | ‚ùå | ‚ùå |
    | `161-1` | Necesidades empresa | ‚úÖ | ‚úÖ |
    | `161-2` | Desahucio | ‚úÖ | ‚úÖ |
  </TabItem>
</Tabs>

---

## 5. Gesti√≥n de Tiempo

<Tabs>
  <TabItem label="Asistencia">
    **Tabla:** `remuneraciones.asistencia`  
    **Archivo:** `tbl/022_tbl_asistencia.sql`

    Registro diario de presencia. Base para c√°lculo de d√≠as trabajados y horas extra.

    | Columna | Descripci√≥n |
    | :--- | :--- |
    | `empleado_id` | FK al empleado |
    | `fecha` | D√≠a calendario (PK compuesta) |
    | `jornada_id` | Jornada aplicada ese d√≠a |
    | `estado_asistencia` | `PRESENTE`, `AUSENTE`, `VACACIONES`, `LICENCIA` |
    | `hora_entrada` | Registro de ingreso |
    | `hora_salida` | Registro de salida |
    | `horas_extras` | Horas extra calculadas |
  </TabItem>

  <TabItem label="Vacaciones">
    **Tabla:** `remuneraciones.vacaciones`  
    **Archivo:** `tbl/021_tbl_vacaciones.sql`

    Solicitudes de feriado legal. Descuentan del saldo del empleado.

    | Columna | Descripci√≥n |
    | :--- | :--- |
    | `empleado_id` | FK al empleado |
    | `fecha_inicio` | Primer d√≠a de vacaciones |
    | `fecha_fin` | √öltimo d√≠a |
    | `dias_habiles` | D√≠as descontados del saldo |
    | `estado` | `SOLICITADA`, `APROBADA`, `RECHAZADA`, `TOMADA` |
  </TabItem>

  <TabItem label="Permisos / Licencias">
    **Permisos** (`remuneraciones.permisos`):
    Ausencias administrativas con o sin goce de sueldo.

    **Licencias M√©dicas** (`remuneraciones.licencias_medicas`):
    Reposo m√©dico que justifica ausencia y afecta c√°lculo de subsidio.

    | Campo Com√∫n | Descripci√≥n |
    | :--- | :--- |
    | `empleado_id` | FK al empleado |
    | `fecha_inicio/fin` | Per√≠odo de ausencia |
    | `tipo` | Clasificaci√≥n espec√≠fica |
    | `con_goce_sueldo` | Boolean (solo permisos) |
  </TabItem>
</Tabs>

---

## 6. Honorarios

<Tabs>
  <TabItem label="Header">
    **Tabla:** `remuneraciones.honorarios`  
    **Archivo:** `tbl/028_tbl_honorarios.sql`

    Registro de boletas de honorarios (emitidas o recibidas).

    | Columna | Descripci√≥n |
    | :--- | :--- |
    | `prestador_id` | FK al prestador externo |
    | `numero_boleta` | Folio oficial ante el SII |
    | `fecha_emision` | Fecha de la boleta |
    | `monto_bruto` | Monto total antes de retenci√≥n |
    | `retencion` | 13.75% (2024) o tasa vigente |
    | `monto_liquido` | Monto final a pagar |
    | `enviado_sii` | Flag si fue cargada desde SII |
  </TabItem>

  <TabItem label="Prestadores">
    **Tabla:** `remuneraciones.prestadores_externos`  
    **Archivo:** `tbl/031_tbl_prestadores_externos.sql`

    Maestro de terceros que prestan servicios.

    | Columna | Descripci√≥n |
    | :--- | :--- |
    | `rut` | RUT del prestador |
    | `nombres`, `apellidos` | Datos personales |
    | `tipo_servicio` | `CONTABILIDAD`, `LEGAL`, `TECNOLOGIA`, etc. |
    | `cuenta_gasto_defecto` | Cuenta contable sugerida |
    | `activo` | Boolean para filtrar |

    <Aside type="tip" title="Routing Contable">
      Si el prestador es tipo "LEGAL", el sistema sugiere autom√°ticamente 
      la cuenta `3203001` (Asesor√≠a Legal).
    </Aside>
  </TabItem>

  <TabItem label="C√≥digos SII">
    **Tabla:** `remuneraciones.codigos_actividad_sii`  
    **Archivo:** `tbl/040_tbl_codigos_actividad_sii.sql`

    Cat√°logo oficial de actividades econ√≥micas para clasificaci√≥n tributaria.

    | C√≥digo | Descripci√≥n |
    | :--- | :--- |
    | 692000 | Actividades de contabilidad |
    | 691001 | Actividades jur√≠dicas |
    | 620100 | Programaci√≥n inform√°tica |
  </TabItem>
</Tabs>
